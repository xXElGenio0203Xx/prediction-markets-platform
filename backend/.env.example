# ============================================================================
# BACKEND ENVIRONMENT VARIABLES
# ============================================================================
# Copy this file to .env and fill in your actual credentials
# See CREDENTIALS_SETUP_GUIDE.md for production deployment setup
# ============================================================================

# Environment
NODE_ENV=development

# Server
PORT=4000
CORS_ORIGIN=http://localhost:5173

# ============================================================================
# OPTION 1: LOCAL DEVELOPMENT (Docker - Recommended for localhost)
# ============================================================================
# Use these values when running with docker-compose

# Database - Local PostgreSQL (started with docker-compose)
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/prediction_market
DIRECT_URL=postgresql://postgres:postgres@localhost:5432/prediction_market

# Redis - Local Redis (started with docker-compose)
REDIS_URL=redis://localhost:6379

# Supabase - Optional for local dev
SUPABASE_URL=
SUPABASE_ANON_KEY=

# ============================================================================
# OPTION 2: PRODUCTION/CLOUD SERVICES (Supabase + Upstash)
# ============================================================================
# Use these when deploying to Fly.io/Vercel with cloud services
# Uncomment and fill in your credentials:

# SUPABASE_URL=https://[YOUR_PROJECT_REF].supabase.co
# SUPABASE_ANON_KEY=[YOUR_SUPABASE_ANON_KEY]
# DATABASE_URL=postgresql://postgres:[PASSWORD]@db.[PROJECT_REF].supabase.co:5432/postgres
# DIRECT_URL=postgresql://postgres:[PASSWORD]@db.[PROJECT_REF].supabase.co:5432/postgres
# REDIS_URL=rediss://default:[PASSWORD]@[ENDPOINT].upstash.io:6379

# ============================================================================
# JWT SECRETS (REQUIRED - CHANGE THESE!)
# ============================================================================
# Generate secure secrets with: openssl rand -base64 32
# Run this command twice to get two different secrets
# IMPORTANT: Use different values for JWT_SECRET and JWT_REFRESH_SECRET!

JWT_SECRET=your-secret-key-change-this-in-production
JWT_REFRESH_SECRET=your-refresh-secret-key-change-this-in-production
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=15m

# ============================================================================
# WEBSOCKET CONFIGURATION
# ============================================================================
WS_HEARTBEAT_INTERVAL=15000
WS_IDLE_TIMEOUT=60000

# ============================================================================
# MATCHING ENGINE SETTINGS
# ============================================================================
MAX_PRICE_SLIPPAGE=0.10
PRICE_SCALE=4
SELF_TRADE_PREVENTION=true

# ============================================================================
# LOGGING
# ============================================================================
LOG_LEVEL=info
